{% extends 'template.html' %}

{% block content %}
<link rel="stylesheet" href="{{url_for('static',filename='./css/user.css')}}">
<div id="userDiv">
    <div class="subTitle">íšŒì› ì •ë³´</div>
    <div id="userInfo">
        <div class="userInfoTitle">ì´ë©”ì¼ :</div>
        <div class="userInfoContents">
            {% if clientUser.getNo() == targetUser.getNo() %}
            <span id="userEmail">{{targetUser.getEmail()}}</span>
            {% if clientUser.getState() == 1 %}
            <button id="userVerifyOpenBtn">ì¸ì¦ë°›ê¸°</button>
            {% endif %}
            <button id="changePwOpenBtn">ë¹„ë²ˆë³€ê²½</button>
            <button id="userLeaveOpenBtn">íšŒì›íƒˆí‡´</button>
            {% else %}
            <span id="userEmail">{{targetUser.getMarkingEmail()}}</span>
            {% endif %}
        </div>
        <div class="userInfoTitle">ê°€ì… ë‚ ì§œ :</div>
        <div class="userInfoContents">
            {{targetUser.getJoinDate()}}
        </div>
        <div class="userInfoTitle">ë§ˆì§€ë§‰ ì ‘ì† :</div>
        <div class="userInfoContents">
            {{targetUserLastSessionTime}}
        </div>
        <div class="userInfoTitle">ì‘ì„±í•œ ê¸€ ê°¯ìˆ˜ :</div>
        <div class="userInfoContents">
            {{targetUserBoardCount}}
        </div>
        <div class="userInfoTitle">ì‘ì„±í•œ ëŒ“ê¸€ ê°¯ìˆ˜ :</div>
        <div class="userInfoContents">
            {{targetUserCommentCount}}
        </div>
        <div class="userInfoTitle">ìµœê·¼ ê¸€ :</div>
        <div class="userInfoContents">
            <ul>
                {% for board in targetUserBoardList %}
                <li>
                    <span class="pointer bolder" onclick="window.location.href='/board/{{board.getNo()}}'">{{board.getTitle()}}</span>
                    <span>ğŸ‘ï¸ {{board.getView()}} â¤ï¸ {{board.getLike()}} ğŸ“ {{board.getCommentCount()}}</span>
                </li>
                {% endfor %}
            </ul>
        </div>
        <div class="userInfoTitle">ìµœê·¼ ëŒ“ê¸€ :</div>
        <div class="userInfoContents">
            <ul>
                {% for comment in targetUserCommentList %}
                <li>
                    <span class="pointer bolder" onclick="window.location.href='/board/{{comment.getBoardNo()}}'">{{comment.getBoardShortTitle()}}</span><br>
                    <span class="pointer indentation"> ã„´{{comment.getComment()}}</span>
                </li>
                {% endfor %}
            </ul>
        </div>
    </div>
</div>
{% if clientUser.getNo() == targetUser.getNo() %}
<div id="changePwModal" style="display: none;">
    <form action="/changePwbyNowPw" method="post">
        <label for="userNowPw">now password:</label>
        <input id="userNowPw" name="userNowPw" type="password">
        <label for="userNewPw">new password:</label>
        <input id="userNewPw" name="userNewPw" type="password">
        <label for="userNewConfirm">confirm:</label>
        <input id="userNewConfirm" name="userNewConfirm" type="password">
        <span id="userChangePwInfo">ì˜ì–´,ìˆ«ì,íŠ¹ìˆ˜ë¬¸ì í¬í•¨ëœ 8~16ìë¦¬ë¡œ ì„¤ì •</span>
        <button id="changePwSubmitBtn" type="button">ë³€ê²½í•˜ê¸°</button>
        <button id="changePwCancelBtn" type="button">ì·¨ì†Œí•˜ê¸°</button>
    </form>
</div>
<div id="userLeaveModal" style="display: none;">
    <form action="/leave" method="post">
        <label for="userLeavePw">password:</label>
        <input id="userLeavePw" name="userLeavePw" type="password">
        <button id="userLeaveSubmitBtn" type="button">íƒˆí‡´í•˜ê¸°</button>
        <button id="userLeaveCancelBtn" type="button">ì·¨ì†Œí•˜ê¸°</button>
    </form>
</div>
{% if clientUser.getState() == 1 %}
<div id="userVerifyModal" style="display: none;">
    <form action="/getVerify" method="post">
        <input id="userVerifyInput" name="userVerifyInput" placeholder="ì¸ì¦ì½”ë“œ">
        <button id="userVerifyConfirmBtn" type="button" disabled>ì¸ì¦ë°›ê¸°</button>
        <button id="userVerifyMailBtn" type="button">ë©”ì¼ë°œì†¡</button>
        <button id="userVerifyCancelBtn" type="button">ì·¨ì†Œí•˜ê¸°</button>
    </form>
</div>
{% endif %}
{% endif %}
<script src="{{url_for('static',filename='./script/user.js')}}"></script>
{% endblock %}